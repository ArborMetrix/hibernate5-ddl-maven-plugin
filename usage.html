<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-03-23 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190323" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Maven DDL generator plugin for Hibernate 5 &#x2013; DDL Generator for Hibernate 5 Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
                  <a href="https://github.com/jpdigital/hibernate5-ddl-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Maven DDL generator plugin for Hibernate 5</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2019-03-23<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.4.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Usage</a>
  </li>
          <li class="nav-header">Modules</li>
    <li><a href="hibernate5-ddl-maven-plugin-core/index.html" title="Maven DDL generator plugin for Hibernate 5 Core"><span class="none"></span>Maven DDL generator plugin for Hibernate 5 Core</a>  </li>
    <li><a href="hibernate50-ddl-maven-plugin/index.html" title="Maven DDL generator plugin for Hibernate 5.0"><span class="none"></span>Maven DDL generator plugin for Hibernate 5.0</a>  </li>
    <li><a href="hibernate51-ddl-maven-plugin/index.html" title="Maven DDL generator plugin for Hibernate 5.1"><span class="none"></span>Maven DDL generator plugin for Hibernate 5.1</a>  </li>
    <li><a href="hibernate52-ddl-maven-plugin/index.html" title="Maven DDL generator plugin for Hibernate 5.2"><span class="none"></span>Maven DDL generator plugin for Hibernate 5.2</a>  </li>
    <li><a href="hibernate53-ddl-maven-plugin/index.html" title="Maven DDL generator plugin for Hibernate 5.3"><span class="none"></span>Maven DDL generator plugin for Hibernate 5.3</a>  </li>
    <li><a href="hibernate54-ddl-maven-plugin/index.html" title="Maven DDL generator plugin for Hibernate 5.4"><span class="none"></span>Maven DDL generator plugin for Hibernate 5.4</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>DDL Generator for Hibernate 5 Usage</h1>
<div class="section">
<h2><a name="Usage"></a>Usage</h2>
<div class="section">
<h3><a name="General_usage"></a>General usage</h3>
<div class="section">
<h4><a name="Include_the_plugin_into_Maven"></a>Include the plugin into Maven</h4>
<p>To use the plugin add it the the build plugins in your POM:</p>

<div>
<div>
<pre class="source">&lt;project&gt;
    [...]
    &lt;build&gt;
        [...]
        &lt;plugin&gt;
            &lt;groupId&gt;de.jpdigital&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate5-ddl-maven-plugin-hibernate52&lt;/artifactId&gt; &lt;!-- Change to match your Hibernate version --&gt;
            &lt;version&gt;2.0.0&lt;/version&gt; &lt;!-- Change to latest version available --&gt;
            &lt;configuration&gt;
                &lt;dialects&gt;
                    &lt;param&gt;postgresql9&lt;/param&gt;
                &lt;/dialects&gt;
                &lt;customDialects&gt; &lt;!-- Optional --&gt;
                    &lt;param&gt;org.example.dialects.FooDBDialect&lt;/param&gt;
                &lt;/customDialects&gt;
                &lt;packages&gt;
                    &lt;param&gt;org.example.entities&lt;/param&gt;
                &lt;/packages&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;gen-ddl&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;phase&gt;process-classes&lt;/phase&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
        [...]
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</pre></div></div>
</div></div>
<div class="section">
<h3><a name="Configuration_parameters"></a>Configuration parameters</h3>
<p>The plugin has two mandatory configuration parameters. The first on are the dialects for which DDL scripts will be generated. There are two options for configured the dialects. The first option is to use the <tt>dialects</tt> parameter. This parameter allows to specify the names of the SQL dialects for which a schema is generated by their name. For a list of supported dialects refer to the JavaDoc of the Dialect:hibernate5-ddl-maven-plugin-core/apidocs/index.html?de/jpdigital/maven/plugins/hibernate5ddl/Dialect.html}} enumeration. The second option is to use the <tt>customDialects</tt> parameter. The <tt>customDialects</tt> parameter allows you to specify the dialects to use with the fully qualified name of the class which provides the implementation of the dialect. The class has must be available on the class path at build time. Custom dialects are supported since version 2.1.</p>
<p>The second parameter are the packages which contain the entity classes.</p>
<p>If you are using Envers in some of your entities no additional configuration is necessary. The usage of Envers is automatically detected by Hibernate.</p></div>
<div class="section">
<h3><a name="Other_parameters"></a>Other parameters</h3>
<p>Starting with version 2.1 it is possible to customize the name of the output file(s) using several parameters:</p>
<ul>

<li>

<p><tt>outputDirectory</tt> allows you to change the name of directory where the generated files are put. The default is <tt>${project.build.directory}/generated-resources/sql/ddl/auto&gt;</tt>. The placeholder <tt>${project.build.directory}</tt> is the path of the <tt>target</tt> directory.</p>
</li>
<li>

<p><tt>outputFileNamePrefix</tt> If this parameter is set the name of each generated file will be prefixed with the string set in this parameter.</p>
</li>
<li>

<p><tt>outputFileNameSuffix</tt> If this parameter is set the value will be appended the name of each generated to the name of each generated file.</p>
</li>
<li>

<p><tt>omitDialectFromFileName</tt> If set to <tt>true</tt> <i>and</i> only one dialect <i>and</i> either <tt>outputFileNamePrefix</tt> or <tt>outputFileNameSuffix</tt> are set the name of the dialect will be omitted from the name of the generated file. If both <tt>outputFileNamePrefix</tt> and <tt>outputFileNameSuffix</tt> are set their values are concatenated.</p>
</li>
<li>

<p><tt>includeTestClasses</tt> If set to true entities classes in <tt>src/test</tt> are are included into the generated schema.</p>
</li>
<li>

<p>Starting with version 2.2 only specific properties from the <tt>persistence.xml</tt> file are passed to hibernate. This properties can be configured using <tt>persistencePropertiesToUse</tt> parameter. Only properties starting with the strings listed in this parameter are passed to Hibernate. If the parameter is not a default configuration equivalent to the following configuration will be used:</p>
</li>
</ul>

<div>
<div>
<pre class="source">&lt;project&gt;
    [...]
    &lt;build&gt;
        [...]
        &lt;plugin&gt;
            &lt;groupId&gt;de.jpdigital&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate5-ddl-maven-plugin-hibernate52&lt;/artifactId&gt; &lt;!-- Change to match your Hibernate version --&gt;
            &lt;version&gt;2.2.0&lt;/version&gt; &lt;!-- Change to latest version available --&gt;
            &lt;configuration&gt;
                [...]
                &lt;persistencePropertiesToUse&gt;
                    &lt;param&gt;format_sql&lt;/param&gt;
                    &lt;param&gt;use_sql_comments&lt;/param&gt;
                    &lt;param&gt;hibernate.id.new_generator_mappings&lt;/param&gt;
                    &lt;param&gt;org.hibernate.envers.audit_strategy&lt;/param&gt;
                &lt;/persistencePropertiesToUse&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                [...]
            &lt;/executions&gt;
        &lt;/plugin&gt;
        [...]
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</pre></div></div>
</div></div>
<div class="section">
<h2><a name="Maven_repository"></a>Maven repository</h2>
<p>The plugin is available from the Maven Central repository, therefore no special configuration is needed.</p></div>
<div class="section">
<h2><a name="Include_generated_SQL_scripts_into_project_archive"></a>Include generated SQL scripts into project archive</h2>
<p>The default output directory for the SQL DDL scripts is <tt>${project.build.directory}/generated-resources/sql/ddl/auto</tt>. <tt>${project-build.directory}</tt> is usually the <tt>target</tt> directory of your project. To include the SQL scripts into the project archive you must add the directory in the <tt>resources</tt> element inside the your build configuration, for example like this:</p>

<div>
<div>
<pre class="source">&lt;project&gt;
    [...]
    &lt;build&gt;
        [...]
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;${project.build.directory}/generated-resources&lt;/directory&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
        [...]
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Using_generated_SQL_scripts_in_the_tests"></a>Using generated SQL scripts in the tests</h2>
<p>If you want to use the generated SQL DDL scripts in your tests you must also add the <tt>generated-resources</tt> directory to the test classpath:</p>

<div>
<div>
<pre class="source">&lt;project&gt;
    [...]
    &lt;build&gt;
        [...]
        &lt;plugins&gt;
            [...]
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.18.1&lt;/version&gt;
                &lt;configuration&gt;
                    [...]
                    &lt;additionalClasspathElements&gt;
                        &lt;additionalClasspathElement&gt;${project.build.directory}/generated-resources&lt;/additionalClasspathElement&gt;
                    &lt;/additionalClasspathElements&gt;
                    [...]
                 &lt;/configuration&gt;
            &lt;/plugin&gt;
            [...]
        &lt;/plugins&gt;
        [...]
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</pre></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2016&#x2013;2019
<a href="http://www.jp-digital.de">Jens Pelzetter</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
